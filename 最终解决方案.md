# ğŸ¯ æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

## âŒ é—®é¢˜åŸå› 

éƒ¨ç½²å¤±è´¥çš„ä¸»è¦åŸå› æ˜¯ï¼š
1. **DEPLOY_KEY æœªé…ç½®** - åŸå·¥ä½œæµéœ€è¦ SSH å¯†é’¥
2. **æ–°ç»„ä»¶å¯¼è‡´æ„å»ºå¤±è´¥** - å·²åˆ é™¤
3. **é…ç½®æ–‡ä»¶å¼•ç”¨äº†ä¸å­˜åœ¨çš„ç»„ä»¶** - å·²ä¿®å¤

## âœ… è§£å†³æ–¹æ¡ˆ

### ğŸš€ æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ç®€åŒ–éƒ¨ç½²ï¼ˆå¼ºçƒˆæ¨èï¼‰

è¿™æ˜¯æœ€ç®€å•ã€æœ€å¯é çš„æ–¹æ³•ï¼Œä¸éœ€è¦é…ç½®ä»»ä½•å¯†é’¥ã€‚

#### æ­¥éª¤ 1: è¿è¡Œä¿®å¤è„šæœ¬

```bash
# åŒå‡»è¿è¡Œ
fix-and-deploy.bat
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
- âœ… å¤‡ä»½æ—§çš„å·¥ä½œæµ
- âœ… å¯ç”¨ç®€åŒ–å·¥ä½œæµ
- âœ… æäº¤å¹¶æ¨é€ä»£ç 

#### æ­¥éª¤ 2: é…ç½® GitHub Pages

1. æ‰“å¼€ä½ çš„ä»“åº“
2. è¿›å…¥ **Settings** â†’ **Pages**
3. è®¾ç½®ï¼š
   - **Source**: Deploy from a branch
   - **Branch**: `gh-pages` / `root`
4. ç‚¹å‡» **Save**

#### æ­¥éª¤ 3: ç­‰å¾…éƒ¨ç½²

- æ¨é€åçº¦ 2-5 åˆ†é’Ÿ
- è®¿é—®ï¼š`https://ä½ çš„ç”¨æˆ·å.github.io/ä½ çš„ä»“åº“å/`

---

### ğŸ”‘ æ–¹æ¡ˆ 2ï¼šé…ç½® SSH å¯†é’¥ï¼ˆåŸæ–¹æ¡ˆï¼‰

å¦‚æœä½ æƒ³éƒ¨ç½²åˆ° `dandingbobaishi.github.io` ä»“åº“ï¼Œéœ€è¦é…ç½® SSH å¯†é’¥ã€‚

#### æ­¥éª¤ 1: ç”Ÿæˆå¯†é’¥

```bash
cd mizuki
ssh-keygen -t rsa -b 4096 -f deploy-key -N ""
```

#### æ­¥éª¤ 2: é…ç½®å…¬é’¥

1. å¤åˆ¶ `deploy-key.pub` çš„å†…å®¹
2. è®¿é—®ï¼šhttps://github.com/dandingbobaishi/dandingbobaishi.github.io/settings/keys
3. æ·»åŠ  Deploy Keyï¼Œå‹¾é€‰ "Allow write access"

#### æ­¥éª¤ 3: é…ç½®ç§é’¥

1. å¤åˆ¶ `deploy-key` çš„å†…å®¹
2. è®¿é—®æºç ä»“åº“ï¼šSettings â†’ Secrets and variables â†’ Actions
3. æ·»åŠ  Secretï¼Œåç§°ä¸º `DEPLOY_KEY`

#### æ­¥éª¤ 4: æ¢å¤åŸå·¥ä½œæµ

```bash
cd .github/workflows
ren deploy.yml.backup deploy.yml
del deploy-simple.yml
```

#### æ­¥éª¤ 5: æ¨é€

```bash
git add .
git commit -m "Restore original workflow with DEPLOY_KEY"
git push origin master
```

---

## ğŸ“Š ä¸¤ç§æ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§ | æ–¹æ¡ˆ 1ï¼ˆç®€åŒ–ï¼‰ | æ–¹æ¡ˆ 2ï¼ˆåŸæ–¹æ¡ˆï¼‰ |
|------|--------------|----------------|
| é…ç½®éš¾åº¦ | â­ ç®€å• | â­â­â­ å¤æ‚ |
| éœ€è¦å¯†é’¥ | âŒ ä¸éœ€è¦ | âœ… éœ€è¦ |
| éƒ¨ç½²ä½ç½® | åŒä»“åº“ gh-pages åˆ†æ”¯ | dandingbobaishi.github.io |
| è®¿é—®åœ°å€ | username.github.io/repo | dandingbobaishi.github.io |
| æ¨èç¨‹åº¦ | â­â­â­â­â­ | â­â­â­ |

---

## ğŸ¯ æ¨èæµç¨‹

### å¯¹äºæ–°æ‰‹ï¼ˆæ¨èï¼‰

1. **ä½¿ç”¨æ–¹æ¡ˆ 1**
   ```bash
   # åŒå‡»è¿è¡Œ
   fix-and-deploy.bat
   ```

2. **é…ç½® Pages**
   - Settings â†’ Pages
   - Branch: gh-pages

3. **è®¿é—®ç½‘ç«™**
   - `https://ä½ çš„ç”¨æˆ·å.github.io/ä½ çš„ä»“åº“å/`

### å¯¹äºæœ‰ç»éªŒçš„ç”¨æˆ·

å¦‚æœä½ ç¡®å®éœ€è¦éƒ¨ç½²åˆ° `dandingbobaishi.github.io`ï¼š

1. **é…ç½® SSH å¯†é’¥**ï¼ˆæŒ‰æ–¹æ¡ˆ 2ï¼‰
2. **æ¢å¤åŸå·¥ä½œæµ**
3. **æ¨é€ä»£ç **

---

## ğŸ” éªŒè¯éƒ¨ç½²

### æ£€æŸ¥ Actions

1. æ‰“å¼€ä»“åº“
2. ç‚¹å‡» **Actions** æ ‡ç­¾
3. æŸ¥çœ‹æœ€æ–°çš„å·¥ä½œæµè¿è¡Œ
4. åº”è¯¥çœ‹åˆ°ç»¿è‰²çš„ âœ…

### æ£€æŸ¥ Pages

1. Settings â†’ Pages
2. åº”è¯¥çœ‹åˆ°ï¼š
   ```
   Your site is live at https://...
   ```

### è®¿é—®ç½‘ç«™

- æ–¹æ¡ˆ 1: `https://ä½ çš„ç”¨æˆ·å.github.io/ä½ çš„ä»“åº“å/`
- æ–¹æ¡ˆ 2: `https://dandingbobaishi.github.io/`

---

## â“ å¸¸è§é—®é¢˜

### Q: è¿è¡Œ fix-and-deploy.bat åè¿˜æ˜¯å¤±è´¥ï¼Ÿ

A: æ£€æŸ¥ Actions æ—¥å¿—ï¼Œå¯èƒ½æ˜¯ï¼š
1. pnpm å®‰è£…å¤±è´¥ - ç½‘ç»œé—®é¢˜
2. æ„å»ºå¤±è´¥ - æŸ¥çœ‹å…·ä½“é”™è¯¯
3. æƒé™é—®é¢˜ - æ£€æŸ¥ä»“åº“è®¾ç½®

### Q: ç½‘ç«™æ˜¾ç¤º 404ï¼Ÿ

A: 
1. ç­‰å¾… 5-10 åˆ†é’Ÿ
2. æ£€æŸ¥ Pages è®¾ç½®æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤åˆ†æ”¯æ˜¯ `gh-pages`
4. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

### Q: æƒ³æ”¹å›åŸæ¥çš„éƒ¨ç½²æ–¹å¼ï¼Ÿ

A:
```bash
cd .github/workflows
ren deploy.yml.backup deploy.yml
del deploy-simple.yml
```

ç„¶åé…ç½® DEPLOY_KEYï¼ˆæŒ‰æ–¹æ¡ˆ 2ï¼‰

### Q: æœ¬åœ°æ„å»ºå¤±è´¥ï¼Ÿ

A:
```bash
cd mizuki
rm -rf node_modules pnpm-lock.yaml
pnpm install
pnpm run build
```

---

## ğŸ’¡ å»ºè®®

1. **å…ˆç”¨æ–¹æ¡ˆ 1** - æœ€ç®€å•ï¼Œæœ€å¯é 
2. **ç¡®è®¤èƒ½è®¿é—®** - å†è€ƒè™‘å…¶ä»–ä¼˜åŒ–
3. **ä¸“æ³¨å†…å®¹** - éƒ¨ç½²åªæ˜¯å·¥å…·
4. **å®šæœŸå¤‡ä»½** - Git å°±æ˜¯æœ€å¥½çš„å¤‡ä»½

---

## ğŸ‰ æ€»ç»“

**æœ€å¿«çš„è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. è¿è¡Œä¿®å¤è„šæœ¬
åŒå‡» fix-and-deploy.bat

# 2. é…ç½® Pages
Settings â†’ Pages â†’ Branch: gh-pages

# 3. ç­‰å¾… 2-5 åˆ†é’Ÿ

# 4. è®¿é—®ç½‘ç«™
https://ä½ çš„ç”¨æˆ·å.github.io/ä½ çš„ä»“åº“å/
```

å°±è¿™ä¹ˆç®€å•ï¼

---

éœ€è¦å¸®åŠ©ï¼ŸæŸ¥çœ‹ **æ£€æŸ¥éƒ¨ç½²é…ç½®.md** è·å–è¯¦ç»†æ’æŸ¥æ­¥éª¤ã€‚
