# ğŸš€ éƒ¨ç½²åˆ° GitHub Pages å®Œæ•´æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [å‰ç½®å‡†å¤‡](#å‰ç½®å‡†å¤‡)
2. [é…ç½® SSH å¯†é’¥](#é…ç½®-ssh-å¯†é’¥)
3. [æ¨é€ä»£ç åˆ° GitHub](#æ¨é€ä»£ç åˆ°-github)
4. [è‡ªåŠ¨éƒ¨ç½²æµç¨‹](#è‡ªåŠ¨éƒ¨ç½²æµç¨‹)
5. [æ‰‹åŠ¨éƒ¨ç½²æ–¹æ³•](#æ‰‹åŠ¨éƒ¨ç½²æ–¹æ³•)
6. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## å‰ç½®å‡†å¤‡

### 1. ç¡®è®¤ä»“åº“ç»“æ„

ä½ éœ€è¦ä¸¤ä¸ª GitHub ä»“åº“ï¼š

- **æºç ä»“åº“**: å­˜æ”¾ Mizuki åšå®¢æºä»£ç ï¼ˆå½“å‰ä»“åº“ï¼‰
- **Pages ä»“åº“**: `dandingbobaishi.github.io` - å­˜æ”¾æ„å»ºåçš„é™æ€æ–‡ä»¶

### 2. æ£€æŸ¥åˆ†æ”¯

- æºç ä»“åº“é»˜è®¤åˆ†æ”¯ï¼š`master`
- Pages ä»“åº“éƒ¨ç½²åˆ†æ”¯ï¼š`main`

---

## é…ç½® SSH å¯†é’¥

### æ­¥éª¤ 1: ç”Ÿæˆ SSH å¯†é’¥å¯¹

åœ¨æœ¬åœ°ç»ˆç«¯è¿è¡Œï¼š

```bash
# ç”Ÿæˆæ–°çš„ SSH å¯†é’¥å¯¹ï¼ˆä¸è¦è®¾ç½®å¯†ç ï¼‰
ssh-keygen -t rsa -b 4096 -C "your_email@example.com" -f mizuki-deploy-key -N ""
```

è¿™ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š
- `mizuki-deploy-key` - ç§é’¥
- `mizuki-deploy-key.pub` - å…¬é’¥

### æ­¥éª¤ 2: é…ç½® Pages ä»“åº“ï¼ˆå…¬é’¥ï¼‰

1. æ‰“å¼€ https://github.com/dandingbobaishi/dandingbobaishi.github.io
2. è¿›å…¥ **Settings** â†’ **Deploy keys**
3. ç‚¹å‡» **Add deploy key**
4. é…ç½®ï¼š
   - **Title**: `MIZUKI_DEPLOY_KEY`
   - **Key**: ç²˜è´´ `mizuki-deploy-key.pub` çš„å†…å®¹
   - âœ… å‹¾é€‰ **Allow write access**
5. ç‚¹å‡» **Add key**

### æ­¥éª¤ 3: é…ç½®æºç ä»“åº“ï¼ˆç§é’¥ï¼‰

1. æ‰“å¼€ä½ çš„æºç ä»“åº“ï¼ˆå½“å‰ä»“åº“ï¼‰
2. è¿›å…¥ **Settings** â†’ **Secrets and variables** â†’ **Actions**
3. ç‚¹å‡» **New repository secret**
4. é…ç½®ï¼š
   - **Name**: `DEPLOY_KEY`ï¼ˆå¿…é¡»æ˜¯è¿™ä¸ªåå­—ï¼‰
   - **Secret**: ç²˜è´´ `mizuki-deploy-key` çš„å†…å®¹ï¼ˆç§é’¥ï¼‰
5. ç‚¹å‡» **Add secret**

âš ï¸ **é‡è¦**: ç§é’¥æ·»åŠ åï¼Œç«‹å³åˆ é™¤æœ¬åœ°çš„å¯†é’¥æ–‡ä»¶ä»¥ç¡®ä¿å®‰å…¨ï¼š

```bash
rm mizuki-deploy-key mizuki-deploy-key.pub
```

---

## æ¨é€ä»£ç åˆ° GitHub

### æ–¹æ³• 1: ä½¿ç”¨ Git å‘½ä»¤ï¼ˆæ¨èï¼‰

```bash
# 1. è¿›å…¥ mizuki ç›®å½•
cd mizuki

# 2. åˆå§‹åŒ– Gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git init

# 3. æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„æºç ä»“åº“.git

# 4. æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# 5. æäº¤æ›´æ”¹
git commit -m "Add enhanced features and styles"

# 6. æ¨é€åˆ° GitHub
git push -u origin master
```

### æ–¹æ³• 2: ä½¿ç”¨ GitHub Desktop

1. æ‰“å¼€ GitHub Desktop
2. é€‰æ‹© **File** â†’ **Add Local Repository**
3. é€‰æ‹© `mizuki` ç›®å½•
4. å¡«å†™æäº¤ä¿¡æ¯
5. ç‚¹å‡» **Commit to master**
6. ç‚¹å‡» **Push origin**

### æ–¹æ³• 3: ä½¿ç”¨ VS Code

1. æ‰“å¼€ VS Code çš„æºä»£ç ç®¡ç†é¢æ¿ï¼ˆCtrl+Shift+Gï¼‰
2. ç‚¹å‡» **Initialize Repository**
3. æš‚å­˜æ‰€æœ‰æ›´æ”¹ï¼ˆç‚¹å‡» + å·ï¼‰
4. è¾“å…¥æäº¤ä¿¡æ¯
5. ç‚¹å‡» **Commit**
6. ç‚¹å‡» **Publish Branch**

---

## è‡ªåŠ¨éƒ¨ç½²æµç¨‹

### å·¥ä½œåŸç†

```mermaid
graph LR
    A[æœ¬åœ°ä¿®æ”¹ä»£ç ] --> B[git push]
    B --> C[GitHub Actions è§¦å‘]
    C --> D[å®‰è£…ä¾èµ–]
    D --> E[æ„å»ºé¡¹ç›® pnpm build]
    E --> F[ç”Ÿæˆ dist/ ç›®å½•]
    F --> G[éƒ¨ç½²åˆ° Pages ä»“åº“]
    G --> H[ç½‘ç«™è‡ªåŠ¨æ›´æ–°]
```

### è§¦å‘æ¡ä»¶

å½“ä½ æ¨é€ä»£ç åˆ° `master` åˆ†æ”¯æ—¶ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨ï¼š

1. âœ… æ£€å‡ºæºä»£ç 
2. âœ… å®‰è£… Node.js 18.x
3. âœ… å®‰è£… pnpm 10.22.0
4. âœ… å®‰è£…é¡¹ç›®ä¾èµ–
5. âœ… æ„å»ºé™æ€æ–‡ä»¶ï¼ˆ`pnpm run build`ï¼‰
6. âœ… éƒ¨ç½²åˆ° `dandingbobaishi.github.io` ä»“åº“

### æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

1. æ‰“å¼€ä½ çš„æºç ä»“åº“
2. ç‚¹å‡» **Actions** æ ‡ç­¾
3. æŸ¥çœ‹æœ€æ–°çš„å·¥ä½œæµè¿è¡ŒçŠ¶æ€

---

## æ‰‹åŠ¨éƒ¨ç½²æ–¹æ³•

å¦‚æœè‡ªåŠ¨éƒ¨ç½²å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨éƒ¨ç½²ï¼š

### æ­¥éª¤ 1: æœ¬åœ°æ„å»º

```bash
cd mizuki
pnpm install
pnpm run build
```

### æ­¥éª¤ 2: éƒ¨ç½²åˆ° GitHub Pages

```bash
# è¿›å…¥æ„å»ºç›®å½•
cd dist

# åˆå§‹åŒ– Git
git init
git add -A
git commit -m 'Deploy'

# æ¨é€åˆ° Pages ä»“åº“
git push -f https://github.com/dandingbobaishi/dandingbobaishi.github.io.git master:main

# è¿”å›ä¸Šçº§ç›®å½•
cd ..
```

---

## å¿«é€Ÿéƒ¨ç½²è„šæœ¬

### Windows ç”¨æˆ·

åˆ›å»º `deploy.bat` æ–‡ä»¶ï¼š

```batch
@echo off
echo ========================================
echo   Mizuki åšå®¢éƒ¨ç½²è„šæœ¬
echo ========================================
echo.

REM è¿›å…¥ mizuki ç›®å½•
cd mizuki

echo [1/4] å®‰è£…ä¾èµ–...
call pnpm install
if errorlevel 1 (
    echo [é”™è¯¯] ä¾èµ–å®‰è£…å¤±è´¥
    pause
    exit /b 1
)

echo.
echo [2/4] æ„å»ºé¡¹ç›®...
call pnpm run build
if errorlevel 1 (
    echo [é”™è¯¯] æ„å»ºå¤±è´¥
    pause
    exit /b 1
)

echo.
echo [3/4] æäº¤ä»£ç ...
git add .
git commit -m "Update blog: %date% %time%"

echo.
echo [4/4] æ¨é€åˆ° GitHub...
git push origin master

echo.
echo ========================================
echo   éƒ¨ç½²å®Œæˆï¼
echo   GitHub Actions å°†è‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²
echo   è¯·è®¿é—®: https://dandingbobaishi.github.io/
echo ========================================
pause
```

### Linux/Mac ç”¨æˆ·

åˆ›å»º `deploy.sh` æ–‡ä»¶ï¼š

```bash
#!/bin/bash

echo "========================================"
echo "  Mizuki åšå®¢éƒ¨ç½²è„šæœ¬"
echo "========================================"
echo

cd mizuki

echo "[1/4] å®‰è£…ä¾èµ–..."
pnpm install || { echo "[é”™è¯¯] ä¾èµ–å®‰è£…å¤±è´¥"; exit 1; }

echo
echo "[2/4] æ„å»ºé¡¹ç›®..."
pnpm run build || { echo "[é”™è¯¯] æ„å»ºå¤±è´¥"; exit 1; }

echo
echo "[3/4] æäº¤ä»£ç ..."
git add .
git commit -m "Update blog: $(date)"

echo
echo "[4/4] æ¨é€åˆ° GitHub..."
git push origin master

echo
echo "========================================"
echo "  éƒ¨ç½²å®Œæˆï¼"
echo "  GitHub Actions å°†è‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²"
echo "  è¯·è®¿é—®: https://dandingbobaishi.github.io/"
echo "========================================"
```

ä½¿ç”¨æ–¹æ³•ï¼š

```bash
chmod +x deploy.sh
./deploy.sh
```

---

## æ—¥å¸¸æ›´æ–°æµç¨‹

### 1. ä¿®æ”¹å†…å®¹

- ç¼–è¾‘æ–‡ç« ï¼š`mizuki/src/content/posts/`
- ä¿®æ”¹é…ç½®ï¼š`mizuki/src/config.ts`
- è°ƒæ•´æ ·å¼ï¼š`mizuki/src/styles/`

### 2. æœ¬åœ°é¢„è§ˆ

```bash
cd mizuki
npm run dev
```

è®¿é—® http://localhost:4321 æŸ¥çœ‹æ•ˆæœ

### 3. æäº¤å¹¶æ¨é€

```bash
git add .
git commit -m "æè¿°ä½ çš„æ›´æ”¹"
git push origin master
```

### 4. ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²

- æ¨é€åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨å¼€å§‹æ„å»º
- é€šå¸¸éœ€è¦ 2-5 åˆ†é’Ÿ
- å®Œæˆåè®¿é—® https://dandingbobaishi.github.io/ æŸ¥çœ‹æ›´æ–°

---

## å¸¸è§é—®é¢˜

### Q1: æ¨é€åç½‘ç«™æ²¡æœ‰æ›´æ–°ï¼Ÿ

**è§£å†³æ–¹æ³•**ï¼š

1. æ£€æŸ¥ GitHub Actions æ˜¯å¦è¿è¡ŒæˆåŠŸ
   - è¿›å…¥ä»“åº“ â†’ Actions æ ‡ç­¾
   - æŸ¥çœ‹æœ€æ–°çš„å·¥ä½œæµçŠ¶æ€

2. æ£€æŸ¥ DEPLOY_KEY æ˜¯å¦é…ç½®æ­£ç¡®
   - Settings â†’ Secrets and variables â†’ Actions
   - ç¡®è®¤ `DEPLOY_KEY` å­˜åœ¨

3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
   - æŒ‰ Ctrl+Shift+R å¼ºåˆ¶åˆ·æ–°

### Q2: GitHub Actions æ„å»ºå¤±è´¥ï¼Ÿ

**å¸¸è§åŸå› **ï¼š

1. **ä¾èµ–å®‰è£…å¤±è´¥**
   - æ£€æŸ¥ `package.json` æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ pnpm ç‰ˆæœ¬åŒ¹é…

2. **æ„å»ºé”™è¯¯**
   - æŸ¥çœ‹ Actions æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
   - æœ¬åœ°è¿è¡Œ `pnpm run build` æµ‹è¯•

3. **æƒé™é—®é¢˜**
   - ç¡®è®¤ Deploy Key æœ‰å†™å…¥æƒé™
   - æ£€æŸ¥ DEPLOY_KEY æ˜¯å¦æ­£ç¡®é…ç½®

### Q3: å¦‚ä½•å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬ï¼Ÿ

```bash
# æŸ¥çœ‹æäº¤å†å²
git log --oneline

# å›æ»šåˆ°æŒ‡å®šæäº¤
git reset --hard <commit-id>

# å¼ºåˆ¶æ¨é€
git push -f origin master
```

### Q4: å¦‚ä½•æ›´æ”¹éƒ¨ç½²åˆ†æ”¯ï¼Ÿ

ç¼–è¾‘ `.github/workflows/deploy.yml`ï¼š

```yaml
on:
  push:
    branches: [ main ]  # æ”¹ä¸ºä½ æƒ³è¦çš„åˆ†æ”¯
```

### Q5: æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠï¼Ÿ

ä¼˜åŒ–å»ºè®®ï¼š

1. å‡å°‘å›¾ç‰‡å¤§å°
2. å…³é—­ä¸éœ€è¦çš„åŠŸèƒ½
3. ä½¿ç”¨ CDN åŠ é€Ÿä¾èµ–ä¸‹è½½

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

### å®Œæ•´éƒ¨ç½²æµç¨‹

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd mizuki

# 2. æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# 3. æäº¤æ›´æ”¹
git commit -m "Update blog"

# 4. æ¨é€åˆ° GitHub
git push origin master

# 5. ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²ï¼ˆ2-5åˆ†é’Ÿï¼‰
# 6. è®¿é—® https://dandingbobaishi.github.io/
```

### ç´§æ€¥å›æ»š

```bash
git reset --hard HEAD~1
git push -f origin master
```

### æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—

https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“/actions

---

## ğŸ“š ç›¸å…³é“¾æ¥

- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [GitHub Pages æ–‡æ¡£](https://docs.github.com/en/pages)
- [Astro éƒ¨ç½²æŒ‡å—](https://docs.astro.build/en/guides/deploy/)
- [ä½ çš„åšå®¢åœ°å€](https://dandingbobaishi.github.io/)

---

## ğŸ’¡ æç¤º

1. **å®šæœŸå¤‡ä»½**: å»ºè®®å®šæœŸå¤‡ä»½æºç ä»“åº“
2. **æµ‹è¯•åæ¨é€**: æœ¬åœ°æµ‹è¯•æ— è¯¯åå†æ¨é€
3. **æŸ¥çœ‹æ—¥å¿—**: éƒ¨ç½²å¤±è´¥æ—¶æŸ¥çœ‹ Actions æ—¥å¿—
4. **ä¿æŒæ›´æ–°**: å®šæœŸæ›´æ–°ä¾èµ–åŒ…

ç¥ä½ éƒ¨ç½²é¡ºåˆ©ï¼ğŸ‰
